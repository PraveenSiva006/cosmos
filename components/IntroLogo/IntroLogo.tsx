import React, { useEffect, useRef } from 'react';
import { gsap } from 'gsap';

interface IntroLogoProps {
  progress: number;
}

function IntroLogo({ progress }: IntroLogoProps) {
  const maskRectRef = useRef(null);

  useEffect(() => {
    const percentage = progress * 100;
    const rectY = 100 - percentage;

    gsap.to(maskRectRef.current, {
      duration: 1, // duration of the animation
      attr: { height: `${percentage}%`, y: `${rectY}%` },
      ease: 'power2.out',
    });
  }, [progress]);

  return (
    <svg
      id='purplehat-logo'
      xmlns='http://www.w3.org/2000/svg'
      viewBox='0 0 365.3 237.86'
    >
      <defs>
        <mask id='progress-mask'>
          <rect
            id='mask-rect'
            x='0'
            y='100%'
            width='100%'
            height='0%'
            fill='white'
            ref={maskRectRef}
          />
        </mask>
      </defs>
      <g fill='#d6cbbd'>
        <path d='M365.05486,184.81436v1.68c-.43,.72-.83,1.46-1.29,2.16-5.26,8-12.07,14.44-19.94,19.83-7.85,5.38-16.29,9.66-25.03,13.36-12.98,5.5-26.44,9.36-40.32,11.74-4.69,.81-9.43,1.16-14.15,1.72-7.74,.91-15.51,1.45-23.29,1.8-5.74,.27-11.5,.36-17.26,.3-.44,0-.88-.03-1.28,.21h-9.36c-.53-.29-1.1-.2-1.65-.21-9.03-.11-18.07,.18-27.09-.47-7.18-.51-14.32-1.25-21.46-2.16-13.64-1.75-27-4.76-40.06-9.07-8.69-2.88-17.4-5.71-26.15-8.41-14.33-4.41-28.32-9.64-41.34-17.16-12.63-7.3-24.04-16.1-33.32-27.47-6.41-7.86-11.42-16.54-15.18-25.98-3.46-8.69-4.73-17.82-5.92-26.98-.27-2.05-.48-4.12-.71-6.17v-2.88c.35-.57,.67-.32,1.06-.01,5.7,4.45,11.41,8.9,17.12,13.34,3.02,2.34,6.39,4.1,9.75,5.87,13.7,7.24,28.25,12.13,43.39,15.35,8.1,1.71,16.29,2.81,24.54,3.56,1.85,.17,3.66,.03,5.46-.46,.66-.18,1.01-.58,1.25-1.16,3.42-8.2,6.96-16.34,10.21-24.6,.94-2.39,2.18-4.59,3.51-6.73l.4,.25c-.04,.09-.06,.18-.01,.29,6.19-2.66,12.66-1.58,19.06-1.68-.46,.44-.95,.67-1.46,.85-1.63,.57-3.2,1.27-4.71,2.1-3.35,1.84-5.37,6.12-4.68,9.89,.56,3.11,2.96,4.97,7.16,5.71,4.33,.76,8.72,1.16,13.02,2.13,3.71,.84,7.33,1.98,10.97,3.08,.49,.15,1.28,.32,1.13,.99-.11,.51-.84,.28-1.29,.27-4.27-.08-8.55-.04-12.83-.16-9.07-.24-18.15-.21-27.22-.32-1.08-.02-1.38,.39-1.35,1.41,.05,2.48,.06,4.96-.01,7.44-.04,1.19,.44,1.51,1.55,1.46,2.87-.13,5.75-.15,8.63-.28,2.43-.12,4.87-.26,7.29-.53,5.75-.63,11.49-.55,17.22,.16,9.63,1.18,18.86,3.92,27.81,7.57,13.32,5.44,25.96,12.24,38.49,19.26,4.92,2.76,9.76,5.66,15.04,7.71,6.63,2.57,13.34,3.21,20.16,.76,2.9-1.04,4.92-2.94,5.52-6.08,.4-2.11-.05-4.12-1.09-5.91-2.23-3.84-4.6-7.55-8.77-9.74-3.49-1.85-6.84-3.99-10.25-5.99-2.03-1.2-3.97-2.62-6.12-3.52-3.58-1.49-7.31-2.59-11.04-3.69-2.41-.71-4.84-1.38-7.26-2.09-.29-.08-.7-.13-.7-.53-.01-.44,.41-.42,.71-.47,1.34-.24,2.67-.53,4.05-.43,3.3,.25,6.61,.47,9.93,.46,2.45-.01,4.52-.91,6.26-2.6,2.56-2.48,2.85-5.12,.88-8.08-.96-1.43-2.08-2.72-3.44-3.81-4.21-3.35-9.03-5.61-13.97-7.59-7.25-2.91-14.73-5.11-22.14-7.57-.81-.27-2.35-.36-2.13-1.21,.2-.75,1.6,.01,2.45,.17,2.13,.4,4.25,.91,6.37,1.38-9.66-4.16-19.63-7.27-30.31-9.16,1.41-.54,2.58-.4,3.72-.49,5.98-.46,11.95-.92,17.92-1.39,4.44-.34,8.8-1.02,12.99-2.66,7.03-2.74,11.72-7.48,13.16-15.06,.85-4.49,.7-9,.13-13.5-.74-5.74-2.15-11.4-2.46-17.2-.52-9.74,.57-19.23,4.61-28.25,3.42-7.66,8.49-13.6,16.61-16.49,1.85-.65,3.73-1.21,5.69-1.39,.78-.07,1.06,.19,.72,.96-.22,.52-.4,1.05-.59,1.58-1.37,3.81-.29,6.52,3.31,8.35,2.47,1.26,5.08,2.14,7.69,3.04,5.36,1.86,10.8,2.51,16.41,1.4,4.39-.87,8.48-2.58,12.53-4.42,4.8-2.19,9.82-3.32,15.14-2.81,1.31,.13,2.64,.14,3.94-.14,.63-.14,1.37-.19,1.52-.96,.15-.78-.56-1.07-1.07-1.43-.42-.3-.86-.59-1.3-.87-3.8-2.37-7.57-4.75-12-5.91-3.97-1.04-7.98-1.03-12-.83l-.14-2.96c3.81-.16,7.61-.39,11.42-.54,3.34-.13,6.31,.89,8.98,2.83,7.78,5.69,15.55,11.38,23.33,17.08,1.16,.86,2.08,1.99,3.12,2.98,.2,.2,.4,.42,.24,.74-.18,.34-.5,.37-.83,.29-1.01-.23-2.02-.48-2.99-.86-2.54-.98-5.07-1.98-7.63-2.89-6.74-2.41-13.34-1.79-19.69,1.25-5.38,2.57-10.74,5.16-16.17,7.61-4.66,2.1-9.26,2.24-13.95,.33-5.22-2.14-10.62-3.2-16.28-2.95-4.24,.19-7.39,2.01-9.34,5.84-2.57,5.06-3.97,10.43-4.53,16.06-.61,6.13,.13,12.13,1.51,18.08,3.51,15.11,6.68,30.31,10.57,45.33,1.88,7.27,3.65,14.6,6.52,21.57,1.15,2.8,2.16,5.58,2.43,8.6,.34,3.77-.16,7.42-1.49,10.95-.25,.67-.79,1.09-1.3,1.73,1.78,.84,3.51,1.64,5.22,2.47,13.46,6.48,27.4,11.79,41.31,17.17,7.11,2.76,14.44,4.7,22.05,5.52,5.94,.63,11.81,0,17.65-1.03,6.58-1.16,13.15-2.35,19.88-2.04,2,.1,3.98,.32,5.94,.74,1.08,.23,2.04,.71,2.69,1.67Zm-138.82,45.42c-.25-.26-.5-.38-.75-.47-10.91-3.9-21.08-9.25-30.74-15.6-9.64-6.35-18.39-13.83-27.19-21.26-8.4-7.07-17.5-13.03-27.82-17-19.56-7.51-39.39-14.29-59.21-21.08-11.58-3.96-23.27-7.6-34.72-11.93-6.97-2.63-13.77-5.63-19.78-10.15-8.39-6.3-16.19-13.28-23.69-20.6-.36-.35-.62-.84-1.2-.96-.05,.13-.13,.24-.12,.34,.04,.31,.11,.63,.18,.94,.71,3.15,1.5,6.28,1.55,9.56,.03,2.02,.24,4.06,.87,6.03,1.83,5.73,4.11,11.26,6.89,16.6,5.93,11.37,14.01,20.98,23.83,29.15,8.28,6.87,17.4,12.49,26.91,17.49,8.18,4.3,16.59,8.11,25.07,11.78,5.98,2.59,11.97,5.19,18.26,6.96,10.01,2.82,20.04,5.56,30.07,8.3,7.05,1.92,14.16,3.28,21.54,2.47,7.02-.77,12.43-3.85,15.59-10.38,.83-1.71,1.28-3.53,1.72-5.36,.22-.93,.63-1.13,1.4-.55,.32,.24,.67,.44,1,.67,6.43,4.62,12.88,9.2,19.28,13.87,7.19,5.24,14.82,9.57,23.39,12.21,2.86,.89,5.13-.57,7.67-1.03Z' />
        <path d='M276.39486,6.28436l.14,2.96c-1.25,.07-2.5,.15-3.74,.23-3.69,.24-7.35,.06-10.99-.5-4-.61-7.84-1.89-11.73-3-4.2-1.19-8.39-2.19-12.85-1.7-8.28,.89-15.68,3.8-22.03,9.16-4.32,3.65-9.19,5.91-14.79,6.57-2.82,.32-5.64,.78-8.46,.84-5.41,.11-9.19,2.83-12.16,7.02-8.76,12.33-17.37,24.75-26.19,37.02-12.14,16.89-24.2,33.83-36.29,50.75-.11,.14-.28,.27-.36,.43l-.4-.25c1.15-1.85,2.36-3.66,3.49-5.52,3.3-5.43,7.14-10.53,10.29-16.05,5.72-10.04,11.42-20.09,17.44-29.95,7.14-11.71,14.59-23.23,22.84-34.2,2.83-3.77,5.85-7.39,9.01-10.9,2.71-3.01,6.03-4.21,10-3.8,4.83,.5,9.38-.58,13.73-2.58,4.21-1.94,8-4.68,12.23-6.61,5.95-2.73,12.03-5.01,18.59-5.77,.19-.02,.38-.12,.57-.18h7.68c2.34,.45,4.73,.68,7.06,1.27,4.15,1.04,8.27,2.21,12.37,3.41,4.5,1.33,9.09,1.58,13.76,1.39,.26-.01,.53-.02,.79-.04Z' />
      </g>
      <g fill='#d88be5' mask='url(#progress-mask)'>
        <path d='M365.05486,184.81436v1.68c-.43,.72-.83,1.46-1.29,2.16-5.26,8-12.07,14.44-19.94,19.83-7.85,5.38-16.29,9.66-25.03,13.36-12.98,5.5-26.44,9.36-40.32,11.74-4.69,.81-9.43,1.16-14.15,1.72-7.74,.91-15.51,1.45-23.29,1.8-5.74,.27-11.5,.36-17.26,.3-.44,0-.88-.03-1.28,.21h-9.36c-.53-.29-1.1-.2-1.65-.21-9.03-.11-18.07,.18-27.09-.47-7.18-.51-14.32-1.25-21.46-2.16-13.64-1.75-27-4.76-40.06-9.07-8.69-2.88-17.4-5.71-26.15-8.41-14.33-4.41-28.32-9.64-41.34-17.16-12.63-7.3-24.04-16.1-33.32-27.47-6.41-7.86-11.42-16.54-15.18-25.98-3.46-8.69-4.73-17.82-5.92-26.98-.27-2.05-.48-4.12-.71-6.17v-2.88c.35-.57,.67-.32,1.06-.01,5.7,4.45,11.41,8.9,17.12,13.34,3.02,2.34,6.39,4.1,9.75,5.87,13.7,7.24,28.25,12.13,43.39,15.35,8.1,1.71,16.29,2.81,24.54,3.56,1.85,.17,3.66,.03,5.46-.46,.66-.18,1.01-.58,1.25-1.16,3.42-8.2,6.96-16.34,10.21-24.6,.94-2.39,2.18-4.59,3.51-6.73l.4,.25c-.04,.09-.06,.18-.01,.29,6.19-2.66,12.66-1.58,19.06-1.68-.46,.44-.95,.67-1.46,.85-1.63,.57-3.2,1.27-4.71,2.1-3.35,1.84-5.37,6.12-4.68,9.89,.56,3.11,2.96,4.97,7.16,5.71,4.33,.76,8.72,1.16,13.02,2.13,3.71,.84,7.33,1.98,10.97,3.08,.49,.15,1.28,.32,1.13,.99-.11,.51-.84,.28-1.29,.27-4.27-.08-8.55-.04-12.83-.16-9.07-.24-18.15-.21-27.22-.32-1.08-.02-1.38,.39-1.35,1.41,.05,2.48,.06,4.96-.01,7.44-.04,1.19,.44,1.51,1.55,1.46,2.87-.13,5.75-.15,8.63-.28,2.43-.12,4.87-.26,7.29-.53,5.75-.63,11.49-.55,17.22,.16,9.63,1.18,18.86,3.92,27.81,7.57,13.32,5.44,25.96,12.24,38.49,19.26,4.92,2.76,9.76,5.66,15.04,7.71,6.63,2.57,13.34,3.21,20.16,.76,2.9-1.04,4.92-2.94,5.52-6.08,.4-2.11-.05-4.12-1.09-5.91-2.23-3.84-4.6-7.55-8.77-9.74-3.49-1.85-6.84-3.99-10.25-5.99-2.03-1.2-3.97-2.62-6.12-3.52-3.58-1.49-7.31-2.59-11.04-3.69-2.41-.71-4.84-1.38-7.26-2.09-.29-.08-.7-.13-.7-.53-.01-.44,.41-.42,.71-.47,1.34-.24,2.67-.53,4.05-.43,3.3,.25,6.61,.47,9.93,.46,2.45-.01,4.52-.91,6.26-2.6,2.56-2.48,2.85-5.12,.88-8.08-.96-1.43-2.08-2.72-3.44-3.81-4.21-3.35-9.03-5.61-13.97-7.59-7.25-2.91-14.73-5.11-22.14-7.57-.81-.27-2.35-.36-2.13-1.21,.2-.75,1.6,.01,2.45,.17,2.13,.4,4.25,.91,6.37,1.38-9.66-4.16-19.63-7.27-30.31-9.16,1.41-.54,2.58-.4,3.72-.49,5.98-.46,11.95-.92,17.92-1.39,4.44-.34,8.8-1.02,12.99-2.66,7.03-2.74,11.72-7.48,13.16-15.06,.85-4.49,.7-9,.13-13.5-.74-5.74-2.15-11.4-2.46-17.2-.52-9.74,.57-19.23,4.61-28.25,3.42-7.66,8.49-13.6,16.61-16.49,1.85-.65,3.73-1.21,5.69-1.39,.78-.07,1.06,.19,.72,.96-.22,.52-.4,1.05-.59,1.58-1.37,3.81-.29,6.52,3.31,8.35,2.47,1.26,5.08,2.14,7.69,3.04,5.36,1.86,10.8,2.51,16.41,1.4,4.39-.87,8.48-2.58,12.53-4.42,4.8-2.19,9.82-3.32,15.14-2.81,1.31,.13,2.64,.14,3.94-.14,.63-.14,1.37-.19,1.52-.96,.15-.78-.56-1.07-1.07-1.43-.42-.3-.86-.59-1.3-.87-3.8-2.37-7.57-4.75-12-5.91-3.97-1.04-7.98-1.03-12-.83l-.14-2.96c3.81-.16,7.61-.39,11.42-.54,3.34-.13,6.31,.89,8.98,2.83,7.78,5.69,15.55,11.38,23.33,17.08,1.16,.86,2.08,1.99,3.12,2.98,.2,.2,.4,.42,.24,.74-.18,.34-.5,.37-.83,.29-1.01-.23-2.02-.48-2.99-.86-2.54-.98-5.07-1.98-7.63-2.89-6.74-2.41-13.34-1.79-19.69,1.25-5.38,2.57-10.74,5.16-16.17,7.61-4.66,2.1-9.26,2.24-13.95,.33-5.22-2.14-10.62-3.2-16.28-2.95-4.24,.19-7.39,2.01-9.34,5.84-2.57,5.06-3.97,10.43-4.53,16.06-.61,6.13,.13,12.13,1.51,18.08,3.51,15.11,6.68,30.31,10.57,45.33,1.88,7.27,3.65,14.6,6.52,21.57,1.15,2.8,2.16,5.58,2.43,8.6,.34,3.77-.16,7.42-1.49,10.95-.25,.67-.79,1.09-1.3,1.73,1.78,.84,3.51,1.64,5.22,2.47,13.46,6.48,27.4,11.79,41.31,17.17,7.11,2.76,14.44,4.7,22.05,5.52,5.94,.63,11.81,0,17.65-1.03,6.58-1.16,13.15-2.35,19.88-2.04,2,.1,3.98,.32,5.94,.74,1.08,.23,2.04,.71,2.69,1.67Zm-138.82,45.42c-.25-.26-.5-.38-.75-.47-10.91-3.9-21.08-9.25-30.74-15.6-9.64-6.35-18.39-13.83-27.19-21.26-8.4-7.07-17.5-13.03-27.82-17-19.56-7.51-39.39-14.29-59.21-21.08-11.58-3.96-23.27-7.6-34.72-11.93-6.97-2.63-13.77-5.63-19.78-10.15-8.39-6.3-16.19-13.28-23.69-20.6-.36-.35-.62-.84-1.2-.96-.05,.13-.13,.24-.12,.34,.04,.31,.11,.63,.18,.94,.71,3.15,1.5,6.28,1.55,9.56,.03,2.02,.24,4.06,.87,6.03,1.83,5.73,4.11,11.26,6.89,16.6,5.93,11.37,14.01,20.98,23.83,29.15,8.28,6.87,17.4,12.49,26.91,17.49,8.18,4.3,16.59,8.11,25.07,11.78,5.98,2.59,11.97,5.19,18.26,6.96,10.01,2.82,20.04,5.56,30.07,8.3,7.05,1.92,14.16,3.28,21.54,2.47,7.02-.77,12.43-3.85,15.59-10.38,.83-1.71,1.28-3.53,1.72-5.36,.22-.93,.63-1.13,1.4-.55,.32,.24,.67,.44,1,.67,6.43,4.62,12.88,9.2,19.28,13.87,7.19,5.24,14.82,9.57,23.39,12.21,2.86,.89,5.13-.57,7.67-1.03Z' />
        <path d='M276.39486,6.28436l.14,2.96c-1.25,.07-2.5,.15-3.74,.23-3.69,.24-7.35,.06-10.99-.5-4-.61-7.84-1.89-11.73-3-4.2-1.19-8.39-2.19-12.85-1.7-8.28,.89-15.68,3.8-22.03,9.16-4.32,3.65-9.19,5.91-14.79,6.57-2.82,.32-5.64,.78-8.46,.84-5.41,.11-9.19,2.83-12.16,7.02-8.76,12.33-17.37,24.75-26.19,37.02-12.14,16.89-24.2,33.83-36.29,50.75-.11,.14-.28,.27-.36,.43l-.4-.25c1.15-1.85,2.36-3.66,3.49-5.52,3.3-5.43,7.14-10.53,10.29-16.05,5.72-10.04,11.42-20.09,17.44-29.95,7.14-11.71,14.59-23.23,22.84-34.2,2.83-3.77,5.85-7.39,9.01-10.9,2.71-3.01,6.03-4.21,10-3.8,4.83,.5,9.38-.58,13.73-2.58,4.21-1.94,8-4.68,12.23-6.61,5.95-2.73,12.03-5.01,18.59-5.77,.19-.02,.38-.12,.57-.18h7.68c2.34,.45,4.73,.68,7.06,1.27,4.15,1.04,8.27,2.21,12.37,3.41,4.5,1.33,9.09,1.58,13.76,1.39,.26-.01,.53-.02,.79-.04Z' />
      </g>
    </svg>
  );
}

export default IntroLogo;
